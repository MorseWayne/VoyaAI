# 智能路线规划功能

我已为 VoyaAI 实现了智能路线规划和地图可视化功能。

## 已实现的功能
1.  **智能路线优化**：自动对输入的地点列表进行重新排序，以实现最短的出行距离。
2.  **高德地图集成**：通过高德地图 MCP 获取实时驾驶/公交的出行时长和距离数据。
3.  **交互式地图界面**：新增前端页面，支持输入地点并在地图上可视化展示优化后的路线。

## 使用说明
1.  **访问规划页面**：
    在浏览器中打开 [http://localhost:8182/static/planner.html](http://localhost:8182/static/planner.html)。
    *(请确保通过 `uv run python main.py` 启动了后端服务)*

2.  **规划行程**：
    -   输入城市（例如：“广州”）。
    -   添加地点（例如：“广州塔”、“白云山”）。
    -   点击“一键智能规划路线”。

3.  **查看结果**：
    -   地图将显示路线轨迹和带编号的地点标记。
    -   左侧时间轴将显示优化后的游玩顺序以及各地点之间的通行时间。

## 涉及的文件
-   `services/route_service.py`: 处理高德地图交互和路线优化的核心逻辑。
-   `api/routes.py`: 新增 `POST /travel/optimize` 接口。
-   `static/planner.html`: 基于 Leaflet 地图的前端交互界面。
-   `main.py`: 开启了静态文件服务支持。

# ğŸ§­ VoyaAI

> åŸºäº AI çš„å®æ—¶æ•°æ®é›†æˆæ—…æ¸¸è¡Œç¨‹ç”Ÿæˆå™¨

VoyaAI æ˜¯ä¸€æ¬¾æ™ºèƒ½æ—…æ¸¸è§„åˆ’åŠ©æ‰‹ï¼Œåˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹å’Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®® (MCP) åˆ›å»ºä¸ªæ€§åŒ–çš„æ—…æ¸¸è¡Œç¨‹ã€‚å®ƒæ•´åˆäº†æ¥è‡ªå¤šä¸ªæºçš„ä¿¡æ¯ï¼Œç”Ÿæˆå…¨é¢ä¸”ç¾è§‚çš„ HTML æ ¼å¼æ—…æ¸¸æŒ‡å—ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ“± **å°çº¢ä¹¦é›†æˆ** - è·å–çƒ­é—¨æ—…æ¸¸è´´å£«å’Œè¯„è®º
- ğŸŒ¤ï¸ **å®æ—¶å¤©æ°”** - è·å–ç›®çš„åœ°åŸå¸‚çš„å®æ—¶å¤©æ°”é¢„æŠ¥
- ğŸ—ºï¸ **è·¯çº¿è§„åˆ’** - ä½¿ç”¨é«˜å¾·åœ°å›¾ API ç”Ÿæˆä¼˜åŒ–è·¯çº¿
- ğŸ¨ **ç²¾ç¾è¾“å‡º** - ç”Ÿæˆå“åº”å¼è®¾è®¡çš„å¯æ‰“å° HTML æ—…æ¸¸æŒ‡å—
- ğŸ¤– **å…¼å®¹ OpenAI** - æ”¯æŒä»»ä½•å…¼å®¹ OpenAI çš„ APIï¼ˆå¦‚ GPT, Claude, Gemini ç­‰ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Python 3.11+
- ä¸€ä¸ªå…¼å®¹ OpenAI çš„ API ç»ˆç«¯ï¼ˆç›´æ¥ API æˆ– OneAPI, LiteLLM, New API ç­‰ä¸­è½¬æœåŠ¡ï¼‰
- (å¯é€‰) é«˜å¾·åœ°å›¾ API Keyï¼ˆç”¨äºè·¯çº¿è§„åˆ’ï¼‰
- (å¯é€‰) å°çº¢ä¹¦ MCP æœåŠ¡

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/MorseWayne/VoyaAI.git
cd VoyaAI

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
uv venv
source .venv/bin/activate  # Windows ç”¨æˆ·: .venv\Scripts\activate

# å®‰è£…ä¾èµ–
uv pip install -r requirements.txt

# é…ç½®ç¯å¢ƒ
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Key
```

### é…ç½®

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# LLM é…ç½® (å…¼å®¹ OpenAI çš„ API)
LLM_BASE_URL=http://127.0.0.1:8045/v1
LLM_API_KEY=your_api_key_here
LLM_MODEL=gemini-3-flash

# å¯é€‰: MCP æœåŠ¡
AMAP_MCP_URL=https://mcp.amap.com/sse?key=your_amap_key
WEATHER_MCP_URL=http://localhost:8083/sse
```

**æ”¯æŒçš„ API æä¾›å•†ï¼š**

| æä¾›å•† | Base URL ç¤ºä¾‹ |
|----------|-----------------|
| OpenAI ç›´è¿ | `https://api.openai.com/v1` |
| Azure OpenAI | `https://your-resource.openai.azure.com/openai/deployments/your-deployment` |
| OneAPI/New API | `http://127.0.0.1:3000/v1` |
| LiteLLM | `http://127.0.0.1:4000/v1` |
| Ollama | `http://127.0.0.1:11434/v1` |

### è¿è¡ŒæœåŠ¡å™¨

```bash
uv run python main.py
```

æœåŠ¡å™¨å°†è¿è¡Œåœ¨ `http://localhost:8182`

## ğŸ“– API ä½¿ç”¨

### ç”Ÿæˆæ—…æ¸¸è®¡åˆ’ (POST)

```bash
curl -X POST "http://localhost:8182/travel/plan" \
     -H "Content-Type: application/json" \
     -d '{"content": "è¯·å¸®æˆ‘è§„åˆ’ä¸€ä»½æ—¥æœ¬å¤§é˜ª5å¤©çš„æ—…æ¸¸æ”»ç•¥ï¼Œé¢„ç®—5000-6000å…ƒ"}'
```

### ç®€å•æŸ¥è¯¢ (GET)

```bash
curl "http://localhost:8182/travel/chat?content=æ—¥æœ¬å¤§é˜ª5å¤©æ¸¸æ”»ç•¥"
```

### æŸ¥çœ‹ç”Ÿæˆçš„ HTML

```bash
curl "http://localhost:8182/travel/html"
```

æˆ–è€…ç›´æ¥åœ¨æµè§ˆå™¨è®¿é—® `http://localhost:8182/travel/html`ã€‚

### æµ‹è¯•æ¥å£

```bash
curl "http://localhost:8182/test?content=Hello"
```

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
curl "http://localhost:8182/status"
```

## ğŸ§ª æµ‹è¯•

é¡¹ç›®æä¾›äº†ç‹¬ç«‹çš„æµ‹è¯•è„šæœ¬ï¼Œç”¨äºéªŒè¯å„ä¸ª MCP æœåŠ¡æ˜¯å¦æ­£å¸¸å·¥ä½œï¼š

```bash
# æµ‹è¯• LLM è¿æ¥
uv run python tests/test_llm.py

# æµ‹è¯•å°çº¢ä¹¦ MCP
uv run python tests/test_xhs_mcp.py

# æµ‹è¯•å¤©æ°” MCP
uv run python tests/test_weather_mcp.py

# æµ‹è¯•é«˜å¾·åœ°å›¾ MCP
uv run python tests/test_amap_mcp.py

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
uv run python tests/test_all.py

# åªæµ‹è¯•ç‰¹å®šæœåŠ¡
uv run python tests/test_all.py --llm
uv run python tests/test_all.py --xhs
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
VoyaAI/
â”œâ”€â”€ main.py              # åº”ç”¨ç¨‹åºå…¥å£
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.py      # é…ç½®ç®¡ç†
â”œâ”€â”€ api/
â”‚   â””â”€â”€ routes.py        # FastAPI è·¯ç”±
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ llm_factory.py   # OpenAI å®¢æˆ·ç«¯åŠ Agent å®ç°
â”‚   â””â”€â”€ travel_service.py # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ mcp/
â”‚   â””â”€â”€ clients.py       # MCP å·¥å…·é›†æˆ
â”œâ”€â”€ prompts/
â”‚   â”œâ”€â”€ travel_guide.txt # æ—…æ¸¸è§„åˆ’æç¤ºè¯
â”‚   â””â”€â”€ html_template.txt # HTML ç”Ÿæˆæç¤ºè¯
â”œâ”€â”€ tests/               # æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ test_llm.py      # LLM è¿æ¥æµ‹è¯•
â”‚   â”œâ”€â”€ test_xhs_mcp.py  # å°çº¢ä¹¦ MCP æµ‹è¯•
â”‚   â”œâ”€â”€ test_weather_mcp.py # å¤©æ°” MCP æµ‹è¯•
â”‚   â”œâ”€â”€ test_amap_mcp.py # é«˜å¾·åœ°å›¾ MCP æµ‹è¯•
â”‚   â””â”€â”€ test_all.py      # ç»¼åˆæµ‹è¯•
â””â”€â”€ output/              # ç”Ÿæˆçš„æ–‡ä»¶
```

## ğŸ”§ æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ |
|-----------|------------|
| æ¡†æ¶ | FastAPI |
| LLM SDK | OpenAI Python SDK |
| LLM | ä»»ä½•å…¼å®¹ OpenAI çš„ API |
| åè®® | MCP (Model Context Protocol) |
| Language | Python 3.11+ |

## ğŸ—ï¸ æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastAPI       â”‚â”€â”€â”€â”€â–¶â”‚  TravelService  â”‚
â”‚   (routes.py)   â”‚     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                         â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ Agent (Tools) â”‚         â”‚ Agent (HTML)  â”‚
           â”‚ - å°çº¢ä¹¦é›†æˆ    â”‚         â”‚ - ä¸ä½¿ç”¨å·¥å…·    â”‚
           â”‚ - å®æ—¶å¤©æ°”      â”‚         â”‚ - è½¬æ¢ä¸º HTML  â”‚
           â”‚ - è·¯çº¿è§„åˆ’      â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ - POI ä¿¡æ¯      â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ OpenAI Client â”‚
           â”‚ (ä»£ç†æˆ–ç›´è¿)     â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ è¯·æ±‚ç¤ºä¾‹

```text
ä½ å¥½ï¼Œæˆ‘éœ€è¦ä½ ä¸ºæˆ‘ç­–åˆ’ä¸€ä»½è¯¦å°½çš„æ—¥æœ¬æ—…æ¸¸æ”»ç•¥ã€‚
ä»¥ä¸‹æ˜¯æˆ‘çš„å…·ä½“éœ€æ±‚ï¼š
1. æ ¸å¿ƒæ—…è¡Œå‚æ•°ï¼š
   - é¢„ç®—èŒƒå›´ï¼š5000-6000
   - è¡Œç¨‹æ—¶é•¿ï¼š5å¤©ï½6å¤©
   - æœŸæœ›å‡ºè¡Œæ—¶é—´ï¼š6æœˆ20æ—¥-6æœˆ25æ—¥
   - å‡ºå‘åŸå¸‚ï¼šå¹¿å·
   - å‡ºè¡Œäººç¾¤ï¼šä¸€å¯¹å¤«å¦‡
   - åå¥½åŸå¸‚ï¼šå¤§é˜ª
2. è¡Œç¨‹é£æ ¼ä¸åå¥½ï¼š
   - è¡Œç¨‹èŠ‚å¥ï¼šè½»æ¾èˆ’é€‚
   - å¿…å»æ™¯ç‚¹ï¼šç¯çƒå½±åŸï¼Œè´­ç‰©
```

## ğŸ¤ å‚ä¸è´¡çŒ®

æ¬¢è¿æäº¤ PR å‚ä¸è´¡çŒ®ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ ç‰¹åˆ«æ„Ÿè°¢

- Java ç‰ˆæœ¬çš„åŸå§‹å®ç° [Cooosin](https://github.com/Cooosin)
- æä¾› Python SDK çš„ [OpenAI](https://github.com/openai/openai-python)
- å·¥å…·é›†æˆåè®® [MCP](https://modelcontextprotocol.io/)

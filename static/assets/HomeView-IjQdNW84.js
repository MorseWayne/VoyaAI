import{_ as C,o as j,a as n,c,b as a,u as l,d as f,e as b,t as i,F as $,r as D,f as v,g as V}from"./index-0Jbrg61l.js";import{f as E}from"./plans-CXcnj4pw.js";import"./client-C1hk53qU.js";const I={class:"max-w-7xl mx-auto px-4 pb-20"},S={class:"mb-10 pt-10 text-center relative overflow-hidden rounded-3xl bg-gradient-to-br from-cyan-600 to-blue-700 text-white shadow-xl animate-fade-in"},A={class:"relative z-10 py-16 px-6"},B={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10 animate-fade-in",style:{"animation-delay":"0.1s"}},N={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-fade-in",style:{"animation-delay":"0.2s"}},P={class:"col-span-1 space-y-6"},z={class:"glass-panel p-6 rounded-2xl h-full flex flex-col justify-center"},F={class:"grid grid-cols-2 gap-4 text-center"},H={class:"p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20"},L={class:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-1"},M={class:"p-4 rounded-xl bg-cyan-50 dark:bg-cyan-900/20"},q={class:"text-3xl font-bold text-cyan-600 dark:text-cyan-400 mb-1"},R={class:"col-span-1 lg:col-span-2"},T={class:"glass-panel rounded-2xl p-6 h-full min-h-[400px] flex flex-col"},G={class:"flex justify-between items-center mb-6"},J={class:"space-y-4 flex-1 overflow-y-auto pr-2 custom-scrollbar"},K={key:0,class:"text-center py-20 t-text-muted"},O={key:1,class:"text-center py-12 t-text-muted"},Q=["onClick"],U={class:"flex items-center gap-4 min-w-0"},W={class:"w-12 h-12 rounded-lg flex flex-col items-center justify-center text-cyan-600 bg-cyan-50 dark:bg-cyan-900/20 font-bold text-sm shrink-0"},X={class:"text-lg leading-none"},Y={class:"min-w-0"},Z={class:"font-bold t-text truncate text-lg group-hover:text-cyan-500 transition mb-1"},tt={class:"text-xs t-text-muted flex items-center gap-3"},at={class:"flex items-center gap-1"},et={class:"flex items-center gap-1"},st={__name:"HomeView",setup(ot){const o=V(),p=v([]),g=v(0),m=v(0),y=v(!0);j(async()=>{try{const s=await E();g.value=s.length;const t=new Set;s.forEach(e=>{var r,x;(r=e.start_location)!=null&&r.city&&t.add(e.start_location.city),(x=e.days)==null||x.forEach(d=>{var h;d.city&&t.add(d.city),(h=d.segments)==null||h.forEach(u=>{var w,k;(w=u.origin)!=null&&w.city&&t.add(u.origin.city),(k=u.destination)!=null&&k.city&&t.add(u.destination.city)})})}),m.value=t.size,p.value=s.slice(0,10)}catch(s){console.error("Dashboard load error:",s)}finally{y.value=!1}});function _(s){o.push({name:"plan-detail",params:{id:s}})}return(s,t)=>(n(),c("div",I,[a("div",S,[t[9]||(t[9]=a("div",{class:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=2021&q=80')] opacity-20 bg-cover bg-center"},null,-1)),a("div",A,[t[7]||(t[7]=a("h1",{class:"text-4xl md:text-5xl font-extrabold mb-4 tracking-tight"},"VoyaAI 智能旅行助手",-1)),t[8]||(t[8]=a("p",{class:"text-xl md:text-2xl opacity-90 mb-8 max-w-2xl mx-auto font-light"},"探索世界从未如此简单，AI 为您规划每一次难忘旅程",-1)),a("button",{onClick:t[0]||(t[0]=e=>l(o).push({name:"create-plan"})),class:"px-8 py-4 bg-white text-blue-600 rounded-full font-bold text-lg shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 flex items-center gap-2 mx-auto"},[...t[6]||(t[6]=[a("span",null,"立即开启旅程",-1),a("i",{class:"fas fa-arrow-right"},null,-1)])])])]),a("div",B,[a("div",{onClick:t[1]||(t[1]=e=>l(o).push({name:"create-plan"})),class:"group relative overflow-hidden rounded-2xl p-6 cursor-pointer transition-all duration-300 hover:-translate-y-1 hover:shadow-xl",style:{background:"var(--bg-card)",border:"1px solid var(--border-color)"}},[...t[10]||(t[10]=[f('<div class="w-12 h-12 rounded-xl bg-cyan-100 text-cyan-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform duration-300" data-v-dfbbdad0><i class="fas fa-magic" data-v-dfbbdad0></i></div><h3 class="text-lg font-bold t-heading mb-2" data-v-dfbbdad0>智能规划</h3><p class="t-text-sub text-sm" data-v-dfbbdad0>输入需求，一键生成完整行程攻略，省时省力。</p><div class="absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity text-cyan-500" data-v-dfbbdad0><i class="fas fa-arrow-right" data-v-dfbbdad0></i></div>',4)])]),a("div",{onClick:t[2]||(t[2]=e=>l(o).push({name:"planner"})),class:"group relative overflow-hidden rounded-2xl p-6 cursor-pointer transition-all duration-300 hover:-translate-y-1 hover:shadow-xl",style:{background:"var(--bg-card)",border:"1px solid var(--border-color)"}},[...t[11]||(t[11]=[f('<div class="w-12 h-12 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform duration-300" data-v-dfbbdad0><i class="fas fa-route" data-v-dfbbdad0></i></div><h3 class="text-lg font-bold t-heading mb-2" data-v-dfbbdad0>路线优化</h3><p class="t-text-sub text-sm" data-v-dfbbdad0>多地点智能排序，计算最优路径，高效打卡。</p><div class="absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity text-emerald-500" data-v-dfbbdad0><i class="fas fa-arrow-right" data-v-dfbbdad0></i></div>',4)])]),a("div",{onClick:t[3]||(t[3]=e=>l(o).push({name:"guides"})),class:"group relative overflow-hidden rounded-2xl p-6 cursor-pointer transition-all duration-300 hover:-translate-y-1 hover:shadow-xl",style:{background:"var(--bg-card)",border:"1px solid var(--border-color)"}},[...t[12]||(t[12]=[f('<div class="w-12 h-12 rounded-xl bg-pink-100 text-pink-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform duration-300" data-v-dfbbdad0><i class="fas fa-book-open" data-v-dfbbdad0></i></div><h3 class="text-lg font-bold t-heading mb-2" data-v-dfbbdad0>攻略合集</h3><p class="t-text-sub text-sm" data-v-dfbbdad0>导入 Markdown 笔记，生成可视化精美攻略。</p><div class="absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity text-pink-500" data-v-dfbbdad0><i class="fas fa-arrow-right" data-v-dfbbdad0></i></div>',4)])]),a("div",{onClick:t[4]||(t[4]=e=>l(o).push({name:"chat"})),class:"group relative overflow-hidden rounded-2xl p-6 cursor-pointer transition-all duration-300 hover:-translate-y-1 hover:shadow-xl",style:{background:"var(--bg-card)",border:"1px solid var(--border-color)"}},[...t[13]||(t[13]=[f('<div class="w-12 h-12 rounded-xl bg-violet-100 text-violet-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform duration-300" data-v-dfbbdad0><i class="fas fa-robot" data-v-dfbbdad0></i></div><h3 class="text-lg font-bold t-heading mb-2" data-v-dfbbdad0>AI 助手</h3><p class="t-text-sub text-sm" data-v-dfbbdad0>随时待命的旅行问答向导，解答您的所有疑问。</p><div class="absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity text-violet-500" data-v-dfbbdad0><i class="fas fa-arrow-right" data-v-dfbbdad0></i></div>',4)])])]),a("div",N,[a("div",P,[a("div",z,[t[16]||(t[16]=a("h3",{class:"text-lg font-bold t-heading mb-6 flex items-center gap-2"},[a("i",{class:"fas fa-chart-pie text-blue-500"}),b(" 旅行足迹 ")],-1)),a("div",F,[a("div",H,[a("div",L,i(g.value),1),t[14]||(t[14]=a("div",{class:"text-sm t-text-muted"},"行程总数",-1))]),a("div",M,[a("div",q,i(m.value),1),t[15]||(t[15]=a("div",{class:"text-sm t-text-muted"},"打卡城市",-1))])])])]),a("div",R,[a("div",T,[a("div",G,[t[18]||(t[18]=a("h3",{class:"text-xl font-bold t-heading flex items-center gap-2"},[a("i",{class:"far fa-clock text-cyan-500"}),b(" 最近行程 ")],-1)),a("button",{onClick:t[5]||(t[5]=e=>l(o).push({name:"plans"})),class:"text-sm t-text-sub hover:text-cyan-500 transition font-medium"},[...t[17]||(t[17]=[b(" 查看全部 ",-1),a("i",{class:"fas fa-chevron-right text-xs ml-1"},null,-1)])])]),a("div",J,[y.value?(n(),c("div",K,[...t[19]||(t[19]=[a("i",{class:"fas fa-spinner fa-spin text-2xl mb-3"},null,-1),a("p",null,"加载中...",-1)])])):p.value.length===0?(n(),c("div",O,[...t[20]||(t[20]=[a("i",{class:"fas fa-wind text-3xl mb-3 opacity-50"},null,-1),a("p",null,"暂无行程，快去创建吧！",-1)])])):(n(!0),c($,{key:2},D(p.value,e=>(n(),c("div",{key:e.id,onClick:r=>_(e.id),class:"rounded-xl p-4 cursor-pointer transition flex items-center justify-between group hover:shadow-md",style:{background:"var(--bg-card)",border:"1px solid var(--border-color)"}},[a("div",U,[a("div",W,[a("span",X,i((e.days||[]).length),1),t[21]||(t[21]=a("span",{class:"text-[10px] uppercase"},"Days",-1))]),a("div",Y,[a("h4",Z,i(e.title||"未命名行程"),1),a("div",tt,[a("span",at,[t[22]||(t[22]=a("i",{class:"far fa-calendar-alt"},null,-1)),b(" "+i(new Date(e.created_at||Date.now()).toLocaleDateString()),1)]),a("span",et,[t[23]||(t[23]=a("i",{class:"fas fa-map-marker-alt"},null,-1)),b(" "+i((e.days||[]).reduce((r,x)=>{var d;return r+(((d=x.segments)==null?void 0:d.length)||0)},0))+" 个地点",1)])])])]),t[24]||(t[24]=a("div",{class:"w-8 h-8 rounded-full flex items-center justify-center t-text-muted group-hover:bg-cyan-50 group-hover:text-cyan-500 transition"},[a("i",{class:"fas fa-chevron-right"})],-1))],8,Q))),128))])])])])]))}},rt=C(st,[["__scopeId","data-v-dfbbdad0"]]);export{rt as default};
